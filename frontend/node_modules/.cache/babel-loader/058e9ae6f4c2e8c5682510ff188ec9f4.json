{"ast":null,"code":"import { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAIL, CLEAR_ERRORS } from \"../constants/adminConstants\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nexport const adminlogin = (adminEmailID, adminPassword) => async dispatch => {\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://localhost:4000/api/admin/login', {\n      adminEmailID,\n      adminPassword\n    }, config);\n    alert(data);\n\n    if (data.data.message === \"Invalid Email ID\") {\n      dispatch({\n        type: LOGIN_FAIL,\n        payload: \"Invalid Email Id\"\n      });\n    } else {\n      if (data.data.message === \"Invalid Password\") {\n        dispatch({\n          type: LOGIN_FAIL,\n          payload: \"Invalid Password\"\n        });\n      } else {\n        sessionStorage.setItem(\"admin\", JSON.stringify(data.data.admin));\n        sessionStorage.setItem(\"x-auth-token\", data.data.token);\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: data\n        });\n      }\n    }\n  } catch (error) {\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.response.data.message\n    });\n  }\n}; // Clearing Errors\n\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","CLEAR_ERRORS","axios","swal","adminlogin","adminEmailID","adminPassword","dispatch","type","config","headers","data","post","alert","message","payload","sessionStorage","setItem","JSON","stringify","admin","token","error","response","clearErrors"],"sources":["D:/sem7/Billy/frontend/src/actions/adminAction.js"],"sourcesContent":["import { \r\n    LOGIN_REQUEST,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    CLEAR_ERRORS\r\n} from \"../constants/adminConstants\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert2\";\r\n\r\nexport const adminlogin = (adminEmailID, adminPassword) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: LOGIN_REQUEST });\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        };\r\n        const { data } = await axios.post('http://localhost:4000/api/admin/login', {adminEmailID,adminPassword}, config);\r\n\r\n        alert(data);\r\n        if(data.data.message === \"Invalid Email ID\")\r\n        {\r\n            dispatch({ type: LOGIN_FAIL, payload: \"Invalid Email Id\"})\r\n        }else{\r\n            if(data.data.message === \"Invalid Password\"){\r\n                dispatch({ type: LOGIN_FAIL, payload: \"Invalid Password\"})\r\n            }\r\n            else{\r\n                sessionStorage.setItem(\"admin\", JSON.stringify(data.data.admin));\r\n                sessionStorage.setItem(\"x-auth-token\", data.data.token);\r\n                dispatch({ type: LOGIN_SUCCESS, payload: data})\r\n            }\r\n            \r\n        }\r\n\r\n        \r\n    } catch (error) {\r\n        dispatch({ type: LOGIN_FAIL, payload: error.response.data.message})\r\n    }\r\n};\r\n\r\n// Clearing Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n    dispatch({ type: CLEAR_ERRORS });\r\n  };"],"mappings":"AAAA,SACIA,aADJ,EAEIC,aAFJ,EAGIC,UAHJ,EAIIC,YAJJ,QAKO,6BALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,YAAD,EAAeC,aAAf,KAAiC,MAAOC,QAAP,IAAoB;EAC3E,IAAI;IACAA,QAAQ,CAAC;MAAEC,IAAI,EAAEV;IAAR,CAAD,CAAR;IAEA,MAAMW,MAAM,GAAG;MACXC,OAAO,EAAE;QACL,gBAAgB;MADX;IADE,CAAf;IAKA,MAAM;MAAEC;IAAF,IAAW,MAAMT,KAAK,CAACU,IAAN,CAAW,uCAAX,EAAoD;MAACP,YAAD;MAAcC;IAAd,CAApD,EAAkFG,MAAlF,CAAvB;IAEAI,KAAK,CAACF,IAAD,CAAL;;IACA,IAAGA,IAAI,CAACA,IAAL,CAAUG,OAAV,KAAsB,kBAAzB,EACA;MACIP,QAAQ,CAAC;QAAEC,IAAI,EAAER,UAAR;QAAoBe,OAAO,EAAE;MAA7B,CAAD,CAAR;IACH,CAHD,MAGK;MACD,IAAGJ,IAAI,CAACA,IAAL,CAAUG,OAAV,KAAsB,kBAAzB,EAA4C;QACxCP,QAAQ,CAAC;UAAEC,IAAI,EAAER,UAAR;UAAoBe,OAAO,EAAE;QAA7B,CAAD,CAAR;MACH,CAFD,MAGI;QACAC,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCC,IAAI,CAACC,SAAL,CAAeR,IAAI,CAACA,IAAL,CAAUS,KAAzB,CAAhC;QACAJ,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCN,IAAI,CAACA,IAAL,CAAUU,KAAjD;QACAd,QAAQ,CAAC;UAAEC,IAAI,EAAET,aAAR;UAAuBgB,OAAO,EAAEJ;QAAhC,CAAD,CAAR;MACH;IAEJ;EAGJ,CA3BD,CA2BE,OAAOW,KAAP,EAAc;IACZf,QAAQ,CAAC;MAAEC,IAAI,EAAER,UAAR;MAAoBe,OAAO,EAAEO,KAAK,CAACC,QAAN,CAAeZ,IAAf,CAAoBG;IAAjD,CAAD,CAAR;EACH;AACJ,CA/BM,C,CAiCP;;AACA,OAAO,MAAMU,WAAW,GAAG,MAAM,MAAOjB,QAAP,IAAoB;EACjDA,QAAQ,CAAC;IAAEC,IAAI,EAAEP;EAAR,CAAD,CAAR;AACD,CAFI"},"metadata":{},"sourceType":"module"}